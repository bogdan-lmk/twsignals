# üöÄ TradingView Alert Setup Guide

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–ª–µ—Ä—Ç–æ–≤ TradingView –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ Telegram.

## üìã –ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

1. ‚úÖ **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π webhook —Å–µ—Ä–≤–∏—Å –≤ –æ–±–ª–∞–∫–µ** (Render.com/Railway/Heroku)
2. ‚úÖ **Telegram –±–æ—Ç** —Å —Ç–æ–∫–µ–Ω–æ–º –∏ chat ID
3. ‚úÖ **TradingView –∞–∫–∫–∞—É–Ω—Ç** —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∞–ª–µ—Ä—Ç–∞–º

## ‚ö†Ô∏è –í–ê–ñ–ù–û!

**TradingView –ù–ï –ú–û–ñ–ï–¢ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ localhost!**
- ‚ùå `http://localhost:8000/webhook` - –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- ‚úÖ `https://your-app.onrender.com/webhook` - –†–ê–ë–û–¢–ê–ï–¢

**–ù—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–µ—Ä–≤–∏—Å –≤ –æ–±–ª–∞–∫–µ:** [DEPLOYMENT.md](DEPLOYMENT.md)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ TradingView

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–≥–æ –≤–∞—Å –∞–∫—Ç–∏–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, BTCUSDT)
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **"–ê–ª–µ—Ä—Ç"** (üîî) –Ω–∞ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: **Alt + A**

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π –∞–ª–µ—Ä—Ç–∞

1. **–£—Å–ª–æ–≤–∏–µ**: –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
2. **–°–æ–æ–±—â–µ–Ω–∏–µ**: –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø—ã —Å–∏–≥–Ω–∞–ª–æ–≤ (Buy/Sell)
3. **–û–ø—Ü–∏–∏**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞

–í —Ä–∞–∑–¥–µ–ª–µ **"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"**:

1. ‚úÖ –í–∫–ª—é—á–∏—Ç–µ **"URL –≤–µ–±—Ö—É–∫–∞"**
2. **URL**: –£–∫–∞–∂–∏—Ç–µ –≤–∞—à webhook endpoint –∏–∑ –æ–±–ª–∞–∫–∞:
   ```
   https://your-app-name.onrender.com/webhook
   ```
   
   **–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö URL:**
   - `https://twsignals-webhook.onrender.com/webhook`
   - `https://my-trading-bot.railway.app/webhook`
   - `https://yourdomain.com/webhook`

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ JSON —Å–æ–æ–±—â–µ–Ω–∏—è

–í –ø–æ–ª–µ **"–°–æ–æ–±—â–µ–Ω–∏–µ"** –≤—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π JSON –∫–æ–¥:

```json
{
  "ticker": "{{ticker}}",
  "signal": "{{strategy.order.action}}",
  "price": {{close}},
  "time": "{{timenow}}",
  "interval": "{{interval}}",
  "chart": "https://www.tradingview.com/chart/?symbol={{ticker}}"
}
```

### –®–∞–≥ 5: –í–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **–ó–∞–≥–æ–ª–æ–≤–∫–∏ HTTP**: 
   - `Content-Type`: `application/json`
   - `X-Signature`: `[–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏]`

2. **–ú–µ—Ç–æ–¥**: POST (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (Security)

–í–∞—à webhook secret –∏–∑ `.env` —Ñ–∞–π–ª–∞:
```
TV_WEBHOOK_SECRET=a3ba5cc07a4bd30a3c8c6f04e51dbb55ac078a326f259400a1903e603078460e
```

**–í–ê–ñ–ù–û**: TradingView –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç HMAC SHA-256 –ø–æ–¥–ø–∏—Å—å –¥–ª—è JSON payload.

## üì± –§–æ—Ä–º–∞—Ç Telegram —Å–æ–æ–±—â–µ–Ω–∏—è

–í–∞—à –±–æ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```
üî• BTCUSDT (1h)
Signal: Buy  Price: 45000.0
üïí 2025-08-05T18:30:00Z
üìà https://www.tradingview.com/chart/?symbol=BTCUSDT
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
```bash
curl http://localhost:8000/health
```

### 2. –¢–µ—Å—Ç webhook –≤—Ä—É—á–Ω—É—é
```bash
curl -X POST http://localhost:8000/webhook \
  -H "Content-Type: application/json" \
  -H "X-Signature: [HMAC-SHA256-–ø–æ–¥–ø–∏—Å—å]" \
  -d '{
    "ticker": "BTCUSDT",
    "signal": "Buy", 
    "price": 45000.0,
    "time": "2025-08-05T18:30:00Z",
    "interval": "1h",
    "chart": "https://www.tradingview.com/chart/?symbol=BTCUSDT"
  }'
```

## üîç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è

| –ü–æ–ª–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|--------------|----------|--------|
| `ticker` | ‚úÖ | –°–∏–º–≤–æ–ª –∞–∫—Ç–∏–≤–∞ | `"BTCUSDT"` |
| `signal` | ‚úÖ | –°–∏–≥–Ω–∞–ª (Buy/Sell) | `"Buy"` |
| `price` | ‚úÖ | –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ | `45000.0` |
| `time` | ‚úÖ | –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ | `"2025-08-05T18:30:00Z"` |
| `interval` | ‚ùå | –¢–∞–π–º—Ñ—Ä–µ–π–º | `"1h"` |
| `chart` | ‚ùå | –°—Å—ã–ª–∫–∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ | `"https://..."` |

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ 403 "Invalid signature"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å webhook secret
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ JSON —Ñ–æ—Ä–º–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

### 2. –û—à–∏–±–∫–∞ 422 "Validation error"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `signal` —Å–æ–¥–µ—Ä–∂–∏—Ç "Buy" –∏–ª–∏ "Sell"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `price` –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ

### 3. –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç —Ç–æ–∫–µ–Ω –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ chat ID
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É/–∫–∞–Ω–∞–ª

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ webhook
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫—É –≤ Telegram
- ‚ùå –û—à–∏–±–∫–∏ –∏ –∏—Ö –ø—Ä–∏—á–∏–Ω—ã

–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∞:
```
2025-08-05 18:33:14 - INFO - Message sent successfully - message_id: 2
```

## üöÄ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à–∏ TradingView –∞–ª–µ—Ä—Ç—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ Telegram —á–µ—Ä–µ–∑ –≤–∞—à webhook —Å–µ—Ä–≤–∏—Å.

**Webhook URL –¥–ª—è TradingView**: `http://your-domain.com/webhook`
**Telegram Chat**: `-1002251027945`
**Secret**: `a3ba5cc07a4bd30a3c8c6f04e51dbb55ac078a326f259400a1903e603078460e`